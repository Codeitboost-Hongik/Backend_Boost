# 2주차 유닉스 커맨드

## 유닉스 커맨드

- **Command** : 검은 화면에 키보드로 입력.
- **Command Line Interface :** 커맨드를 통해 컴퓨터를 사용하는 방식. 작업에 대해 커맨드 한 줄로 표현할 수 있기 때문에 개발에서 주로 이용.
- **Unix** : 1970년대 초반에 개발된 운영체제. 소프트웨어를 개발하고 실행할 수 있는 플랫폼. 쉽게 수정해서 다른 컴퓨터에 적용 가능.
    
    유닉스를 기반으로 하는 운영체제들 다수 등장 ⇒ **유닉스 운영 체제, 유닉스 커맨드**.
    

- **터미널** : 인풋을 받고, 아웃풋을 출력해주는 프로그램.
- **shell** : 커맨드를 해석해주는 프로그램. 커맨드들을 컴퓨터가 이해할 수 있는 형태로 바꿔줌.
- **bash** : shell의 종류 중 하나.

**커맨드의 기본 형태**

커맨드 + 옵션(option) + 인자(argument)

- 인자(argument) : 어느 대상에 대해 실행할 것인지.
- 옵션(option) : 커맨드를 어떻게 실행할 것인지.

- `date` : 날짜, 시간 출력.
- `cal` : 이번달 달력 출력.
    - `cal 월 년도` : 해당 년도 월 달력 출력.
    - `cal -j 월 년도` : 날짜 대신 1/1부터 몇번째 날인지를 출력.
    - `cal -y 년도` : 해당 년도의 달력을 전부 출력.
    - `cal -yj 년도` : 옵션 2개 동시에 적용.
    - `cal -A 숫자` : 해당 달의 ~개월 후까지 출력.
    - `cal -B 숫자` 해당 달의 ~개월 전까지 출력.
- `man 검색할 커맨드` : 커맨드에 대한 정보 제공.
- `clear` : 화면에서 커맨드 기록들을 지움.

**커맨드 단축키**

- `윗쪽 방향키` : 이전에 실행했던 커맨드들을 보여줌.
- `Ctrl A` : 커맨드 맨 앞으로 이동 / Ctrl E - 커맨드 맨 뒤로 이동.
- `Alt + 방향키` : 커맨드 단어 단위로 이동.
- `Ctrl C` : 실행중인 커맨드 종료.
- `Tab` : 작성중인 커맨드 자동완성.

## 파일과 디렉토리를 다루는 커맨드

**디렉토리 안에 디렉토리가 있을 때**

안에 있는 디렉토리 : 하위(자식) 디렉토리 / 바깥에 있는 디렉토리 : 상위(부모) 디렉토리.

디렉토리 안으로 들어갈때 `/` 사용.

**사용자의 홈 디렉토리**

각종 문서, 바탕화면 파일, 다운로드 파일 등등 보관.

현재 사용자의 홈 디렉토리 : `~` 

ex. `~` → `/home/yujeong` , `~/Documents` → `/home/yujeong/Documents`

**절대경로**

루트 디렉토리를 기준으로 어떤 파일이나 디렉토리의 고유한 경로를 표시하는 것. 

→ 멀리 있는 디렉토리로 갈 때.

**상대경로** 

현재 자신이 위치해 있는 디렉토리 기준으로 경로를 나타내는 것. 현재 디렉토리를 `.`으로 표시, 상위 디렉토리를 `..`으로 표시. 경로가 루트로 시작하지 않는 경우 자동으로 상대경로로 인식함. 

→ 현재 디렉토리 주변 디렉토리로 갈 때.

**루트 디렉토리**

`/` 로 표현.

- `/bin` : 컴퓨터가 실행할 수 있는 프로그램(커맨드).
- `/sbin` : 관리자 전용 프로그램들.
- `/etc`  : 컴퓨터 설정 파일.
- `/home` : 사용자들의 홈 디렉토리.
- `/usr` : 사용자에게 필요한 파일들을 저장.
    - `/local` : 사용자가 직접 설치한 프로그램과 관련된 파일.

**CLI 텍스트 에디터 Vim**

GUI 환경 : VS Code, 메모장 …

CLI 환경 : Vim

엄청나게 많은 기능과 단축키가 있지만, 모든걸 마우스 없이 키보드로 해결해야 함.

**Vim의 4가지 사용 모드**

- 일반 모드 `esc` : 커서 이동, 텍스트 붙여넣기, 작업 취소
- 입력 모드 `i` : 텍스트 입력
- 비주얼 모드 `v`, `V` : 텍스트 블록 지정, 텍스트 복사
- 명령 모드 `:` : 내용 저장, Vim 종료

**Vim 단축키**

- 비주얼 모드
    - `v` / `V` : 한 글자씩 선택 / 한 줄씩 선택
    - `y` : 복사
    - `p` : 붙여넣기
    - `d` : 잘라내기
- 입력 모드
    - `yy` : 복사
    - `dd` : 잘라내기
- 명령 모드
    - `q` : Vim종료
    - `w` : 파일 저장
    - `wq` : 파일 저장 후 종료
    - `q!` : 저장하지 않고 종
    

**커맨드**

- `pwd` : 현재 위치한 디렉토리 (working directory) 출력.

- `cd 디렉토리` : 다른 디렉토리로 이동.
- `cd` : 홈 디렉토리로 이동.
- `cd -` : 이전에 있던 디렉토리로 이동.

- `ls` : 디렉토리 내용을 리스트해서 보여줌.
- `ls 경로` : 해당 경로 디렉토리의 내용을 보여줌.
- `ls -a` : 숨겨진 파일, 디렉토리까지 전부 보여줌.
- `ls -l` : 파일, 디렉토리에 대해 추가 정보(종류, 권한, 링크, 소유자 등등)를 보여줌.

- `mkdir 디렉토리` : 디렉토리 생성. 나열해서 여러 개 생성도 가능.
- `touch 파일`  : 파일 생성.

- `vim` : Vim 실행.
- `vim 경로` : 해당 파일을 열거나 존재하지 않으면 새로 만듦.

- `cat 파일` : 파일 내용 한꺼번에 출력. 나열해서 여러 개 출력도 가능.
- `less 파일` : 파일 내용 페이지로 나눠서 출력.
    - `Space / f` : 다음 페이지로 이동
    - `b` : 이전 페이지로 이동
    - `G` : 마지막 페이지로 이동
    - `g` : 처음 페이지로 이동
- `head 파일` : 파일의 처음 10줄 출력.
    - `head -n 숫자 파일` : 파일의 처음 ~줄 출력.
- `tail 파일` : 파일의 마지막 10줄 출력.
    - `tail -n 숫자 파일` : 파일의 마지막 ~줄 출력.

- `mv (작업할 대상 경로) (이동할 목적지나 변경할 이름)` : 두번째 인자가 이미 존재하는 디렉토리인 경우에는 해당 위치로 이동시키고, 존재하지 않을 경우에는 이름을 바꿈.
    
    🚨 똑같은 이름의 파일이 목적지에 있을 경우 덮어쓰므로 주의!! `i` 옵션을 쓰면 사용자에게 덮어쓸 것인지 사용자에게 물어봄.
    
- `cp (복사할 대상의 경로) (복사할 위치)` : 두번째 인자가 이미 존재하는 파일/디렉토리인 경우에는 내용이 복사되고, 존재하지 않을 경우에는 두번째 인자 이름을 가진 파일/디렉토리가 생성됨.
    
    🚨 똑같은 이름의 파일이 목적지에 있을 경우 덮어쓰므로 주의!! `i` 옵션을 쓰면 사용자에게 덮어쓸 것인지 사용자에게 물어봄.
    
    ➕ 디렉토리를 복사할때는 `r` 옵션을 줘야함!
    
- `rm 파일/디렉토리` : 파일/디렉토리를 삭제함. 나열해서 여러 개 삭제도 가능.
    
    ➕ 디렉토리를 삭제할때는 `r` 옵션을 줘야함!
    
    - `rm -i 파일/디렉토리` : 파일/디렉토리를 지울 것인지 하나씩 재확인함.
    - `rm -f 파일/디렉토리` : 어떤 상황에서도 재확인 하지 않고 지움.
    

<aside>
💡  파일, 디렉토리 이름에 공백이 있을 경우 `‘’`, `“”`, `/` 를 사용!

</aside>

## 외부 프로그램 설치

CLI에서 외부 프로그램을 설치할 때, 우분투에서는 `apt`, 맥 OS에서는 `homebrew` 커맨드를 사용한다.

**apt**

- `sudo` : apt로 프로그램을 관리하려면 관리자 권한이 필요함. 관리자 권한을 갖게 해줌.
- `sudo apt update` : apt로 설치할 수 있는 프로그램에 대한 최신 정보를 가져옴.
- `sudo apt install 프로그램이름` : 프로그램 설치.
- `sudo apt remove 프로그램이름` : 프로그램 삭제.

**homebrew**

- `brew install 프로그램이름` : 프로그램 설치.
- `brew uninstall 프로그램이름` : 프로그램 삭제.

## 커맨드라인 팁

WSL은 윈도우 안에 존재하는 ‘하위 시스템’이기 때문에 윈도우 파일에 쉽게 접근 가능.

윈도우 파일은 `/mnt/c` 경로에 있음.

**PowerShell** 

기본 유닉스 커맨드를 지원함. 기본적으로는 cmdlet 커맨드를 사용함.

**PowerShell vs Unix Command**

- 경로
    
    PowerShell은 경로를 표시할 때 /대신 \를 쓴다.
    
- 옵션
    
    한 글자가 아닌 전체 단어다.
    
    - `man -Full ls`  : aliasing 하고 있는 cmdlet에 대한 자세한 정보를 보여줌.
- `ls` : 파일/폴더 이름 뿐만아니라 다양한 정보를 보여줌. (유닉스의 ls -al 과 유사함)
- `$null > filename` : 파일 생성. (touch 없음)
- `cat 파일이름` 이 여러개의 인자를 받을 시 오류. 하나의 파일만 받음.
- `mv` ,`cp`를 했을 때 목적지에 똑같은 이름의 파일/폴더가 있으면 덮어쓰는게 아니라 오류가 발생함. 덮어쓰고 싶다면 `-Force` 옵션 사용.
- `cp` 에서 폴더를 복사할 때 `-Recurse` 옵션을 사용해야함. 사용하지 않을 경우 폴더 자체만 복사되고 안의 내용물은 복사되지 않음.
- `rm` 에서 폴더를 삭제할 때 `-Recurse` 옵션을 사용해야함.